HTTP 메시지 : HTTP 에플리케이션 간 송수신하는 데이터 블록

서버로 이동하는 방향을 인바운드, 사용자 에이전트로 돌아오는 것을 아웃바운드라고 한다.
모든 메시지는 메세지 종류의 관계없이(request/response에 관계없이) 다운스트림(수신자)으로 진행된다. 발신자는 수신자의 업스트림이라고 한다.

요청 메시지 구조

    <http 메서드> <경로> <http 버전>
    <헤더>

    <본문> (선택)

    http 메서드 : 클라언트가 서버에 수행하려는 작업(GET(read), POST(create), PUT(update), DELETE(delete) -> crud라고 불림)

    경로 : 리소스의 위치

    헤더 : 추가 정보(auth, 인증 토큰 등)

    본문 : 요청 데이터(post, put 등에서 사용)

응답 메시지 구조

    <http 버전> <상태 코드> <상태 메시지>
    <헤더>

    <본문> (선택)

    상태 코드 : 요청 결과를 나타냄(200(성공), 404(리소스 없음), 500(서버 에러))

    상태 메세지 : 상태 코드 설명하는 텍스트(OK, NOT_FOUND 등)
    
    헤더 : 응답의 추가 정보(Content-Type, Content-Length)
    
    본문 : 요청된 리소스 데이터

HTTP 메서드의 종류

    GET : 데이터 조회. 서버 리소스를 가져옴(HTML, JSON, jpg 등). 요청 본문(body)가 없고 멱등성(리소스 상태 변경x)을 가짐

    POST : 데이터를 전송하거나 새로운 리소스를 생성. body포함, 일반적인 데이터 생성 작업. 멱등하지 않음

    PUT : 리소스를 대체하거나 새 리소스 생성. body포함되며 멱등성(여러 번 호출해도 동일한 결과)을 가짐

    PATCH : 리소스를 일부분만 수정. body 포함하며 멱등성 보장여부가 불투명함(수정 내용에 따라 달라짐)

    DELETE : 리소스 삭제. 멱등성(여러 번 호출해도 이미 삭제된 리소스에 영향을 주지 않음)을 가짐

    HEAD : 서버에 응답 헤더만 요청. GET과 동일, 응답 body가 없음. 리소스나 서버 상태 확인용

    OPTIONS : 서버에서 지원하는 메서드나 설정 정보 요청. CORS 처리에 주로 사용됨

    TRACE : 클라언트-서버 간의 통신 경로 디버깅. 요청을 그대로 반환하여 경로 확인

    CONNECT : 터널 연결 설정. 프로시 서버 설정 시 사용. SSL/TLS 터널링에 사용

멱등성 : 여러 번 실행해도 같은 결과를 보장하는 성질

상태 코드 종류

    100-101 : 정보

    200-206 : 성공(200(OK, 요청 데이터가 본문에 있음))

    300-305 : 리다이렉션

    400-415 : 클라이언트 에러(401(Unauthorized, username과 password 필요), 404(NOT_FOUND, 리소스가 없음))

    500-505 : 서버 에러

HTTP는 다음을 보장한다.

    객체는 Content-Type과 Content-Language 헤더를 통해 올바르게 식별됨

    객체는 올바르게 압축이 풀림

    객체는 항상 최신

    사용자 요구 만족

    빠르고 효율적

    조작되지 않고 온전

HTTP는 컨텐츠를 라벨링하여 엔티티 형태로 보낸다.

HTTP 메시지를 컨테이너라고 하면 메시지의 실질적인 화물이 엔티티가 된다.

    HTTP/1.0 200 OK
    Server : Netscape-Enterprise/3.6
    Date : Sun, 17 Sep 2000 00:00:00 GMT
    // 엔티티
    Content-Type : text/plain // 엔티티 헤더
    Content-Length : 18

    Hi! // 엔티티 본문

엔티티 본문은 헤더 필드의 끝을 의미하는 마지막 빈 CRLF(0x0A = <LF>)의 줄 바로 다음부터 시작한다.