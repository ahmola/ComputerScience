외부 기억 장치로 자기 특성을 사용한 자기 기억 장치, 빛의 특성을 사용한 광 기억 장치로 나뉜다.

자기 기억 장치(하드 디스크) : 트랙이라는 자기띠에 강 자성체에 정보를 저장하여 코일이 포함된 헤드를 통해 읽기와 쓰기를 한다.
정보를 쓸 때는 앙페르의 법칙, 읽을 때는 패러데이의 법칙을 사용함.
트랙은 섹터의 집합으로 구성되며, 섹터를 구분하는 섹터 갭이 존재함. 자기장 간섭에 의한 에러 방지를 위해 트랙 갭이 존재.
읽기/쓰기 동작은 각 섹터에 저장되어 있는 데이터인 블록 단위로 이루어짐.

디스크는 각 섹터를 구별하기 위해 디스크를 포맷함.

    gap : 섹터 분리
    sync : 섹터 시작, 타이밍 정렬
    address mark : 섹터 번호 및 위치 식별. 상태 확인
    data : 사용자 데이터
    Error-Correcting Code(ECC) : 오류 수정 코드

실린더 : 다른 표면에 있지만 위치(z축)이 같은 트랙 집합

디스크 액세스 시간 = 탐색 시간 + 회전 지연 시간 + 데이터 전송 시간

광 기억 장치 : 광 레이저 기술 사용. CD-ROM, DVD, 블루레이 등에 사용됨

CD-ROM : 읽기 전용 콤팩트 디스크. 데이터를 디스크에 피트와 랜드 형식으로 저장
만들어진 디스크를 die(형판)이라는 복사본 생성
튀어나온 곳이 랜드, 들어간 곳이 피트. 랜드에 빛을 쏘면 반사되지만 피트는 흩어짐
피트에서 빛이 흩어져 랜드에서의 빛을 없애는데 이를 1로 해석하고 이러한 변이가 없다면 0으로 해석한다.

섹터 단위로 저장

    SYNC 필드 : 섹터의 시작 필드
    ID 필드 : 섹터 주소와 모드 정보를 포함. MIN, SEC, 섹터 번호, 모드로 구성
    모드0은 데이터가 없음을, 모드1은 데이터와 ECC가 있음을, 모드2는 ECC 없이 데이터만 있음을 나타낸다.

RAID : 용량이 작고 저렴한 디스크를 여러 개 묶어서 하나의 기억 장치로서 사용함. 스트라이핑, 미러링, 패러티로 구분

    스트라이핑 : 데이터를 여러 조각으로 분할하여 여러 개의 디스크에 분산 저장
    미러링 : 하나의 데이터를 2개의 디스크에 중복 저장
    패리티 : 데이터 무결성 오류 체크. 패리티를 통해 데이터 복구. 데이터와 함께 저장됨

RAID-0 : 스트라이핑함. 라운드로빈 방식으로 디스크에 저장됨. 배열 관리 소프트웨어가 논리 디스크와 물리 디스크 매핑.
동시 액세스가 가능하여 전송 속도 높음. MTTF(하드웨어가 고장날 때까지 동작한 시간의 평균치)에 의한 신뢰성 문제.

RAID-1 : 스트라이핑하여 절반은 데이터 디스크로 나머지 절반은 미러 디스크로 사용한다. 실시간 복구 가능하나 높은 비용. 중요한 파일에만 적용. 쓰기 동작을 항상 2개의 디스크에서 동시 진행.

RAID-2 : 병렬 액세스 기술. 모든 디스크가 읽기/쓰기 수행. 스트라이핑 사용. 검사 디스크를 추가하여 해밍 코드를 사용해 오류 정정.
2^(검사 디스크 수) = (데이터 디스크 수) + (검사 디스크 수) + 1
2비트 오류만 검출 가능. 높은 비용. 거의 사용x

RAID-3 : RAID2와 유사하나 오류 검출을 위해 패리티 디스크 하나만 사용. 병렬 기술 사용. 분산 스트라이핑함.
모든 데이터 비트 복구 가능. 쓰기 동작 때마다 패리티 비트 갱신, 쓰기 시간 길어짐

RAID-4 : 데이터를 스트라이핑 방식으로 디스크에 저장하고 패리티 비트를 블록 단위로 디스크에 저장. 블록이 더 커져서 여러 디스크의 동시 접근이 아니라 디스크 하나에만 저장가능하여 여러 액세스 동시 처리 가능. 패리티 디스크가 두 번씩 액세스되어 병목 현상 발생.

RAID-5 : RAID-4와 마찬가지로 데이터 저장. 패리티 블록을 모든 디스크에 라운드로빈 방식으로 분산 저장함. 병목 현상 완화, 쓰기 병렬 수행, 준수한 성능

RAID-6 : RAID-5와 유사하지만 두가지 패리티 정보를 사용하여 신뢰성을 높임. RAID-5보다 성능이 좋지 않음.

RAID-01 : RAID-0으로 구성된 디스크 집합을 RAID-1로 묶음. 디스크 집합 내 한 디스크가 고장나면 모두 못쓰게 되면 다른 디스크에서 모두 복사하여 복구
RAID-10 : RAID-1로 구성된 디스크 집합을 RAID-0으로 묶음. 디스크 1개가 고장나면 미러링으로 묶인 디스크 복구

SSD : 반도체 메모리로 구성된 보조 기억 장치. 빠른 속도. 작동 소음도 없고 전력 소모도 적음 -> 배터리 유지시간 증가

SSD 내부 구조

    NAND 플래시 메모리
    SSD 컨트롤러 : PC와 연결된 인터페이스와 메모리 사이 데이터 교환 제어
    DRAM 캐시 : 외부 장치와 SSD 속도 차이를 줄이기 위한 버퍼

SSD 메모리 구조

    기존과 같은 기본 단위인 페이지가 존재하고 페이지가 모여 블록이, 블록이 모여 플레인이되고, 플레인이 모여 NAND플래시 메모리 칩(Die)이 된다. 즉, SSD = NAND 플래시 메모리 칩을 여러 개 묶은 하나의 공간

SSD 컨트롤러에서 FTL(플래시 변환 계층)을 사용해 물리 블록과 논리 섹터 구현. Die를 직접 다루는 방식이 아닌 미들웨어인 FTL을 중간에 두고 통신. 모든 운영체제나 파일 시스템은 물리 영역에 관여하지 않고 SSD 컨트롤러가 직접 해결함.

웨어 레벨링 : FTL에서 모든 페이지를 골고루 쓰이게 함
페이지 레지스터를 통해 페이지마다 몇 번의 재기록이 이루어졌는지 관리. 덜 사용된 페이지 위주로 기록함

이러한 웨어 레벨링이 반복되면 쓰레기값들이 쌓이게 됨. 이를 한번에 처리하기 위해 가비지 컬렉션이 존재함. 카피백 페이지라는 명령을 사용하여 다른 블록으로 데이터를 한 곳으로 모두 모음.

이렇게 웨어 레벨링과 가비지 컬렉션을 반복하면 또 문제가 발생함 -> 데이터만 SSD에 남게 됨(더티 상태) -> 여유 공간 확보, 오버 프로비저닝 공간 필요

Over Provisioning 공간 : 원할한 작동을 위해 미리 마련된 예비 공간
    내부 프로비저닝 : 출시부터 내장되어 오직 오버 프로비저닝만을 위해 사용
    외부 프로비저닝 : 데이터 공간 일부를 프로그램을 통해 수동 설정, 특정 조건에서 자동 설정